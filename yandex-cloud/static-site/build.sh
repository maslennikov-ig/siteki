#!/bin/bash

# –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞ –¥–ª—è Yandex Cloud Object Storage
echo "üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Å–±–æ—Ä–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Yandex Cloud..."

# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–±–æ—Ä–∫–∏
mkdir -p dist

# –ö–æ–ø–∏—Ä—É–µ–º –≤—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
echo "üìÑ –ö–æ–ø–∏—Ä—É–µ–º HTML —Ñ–∞–π–ª—ã..."
cp *.html dist/

echo "üñºÔ∏è –ö–æ–ø–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è..."
cp *.jpg *.png *.svg dist/

echo "üìÑ –ö–æ–ø–∏—Ä—É–µ–º JS —Ñ–∞–π–ª—ã..."
cp *.js dist/

echo "üìÑ –ö–æ–ø–∏—Ä—É–µ–º –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã..."
cp openapi.json dist/ 2>/dev/null || true

# –°–æ–±–∏—Ä–∞–µ–º CSS —Å Tailwind
echo "üé® –°–æ–±–∏—Ä–∞–µ–º CSS —Å Tailwind..."
npx tailwindcss -i ./src/styles.css -o ./dist/styles.css --minify

echo "‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –§–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ dist/"
echo "üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–±–æ—Ä–∫–∏:"
ls -la dist/ 