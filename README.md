# –ê–∫–∞–¥–µ–º–∏—è –§–∏–Ω–∞–Ω—Å–æ–≤ - –õ–µ–Ω–¥–∏–Ω–≥ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ª–µ–Ω–¥–∏–Ω–≥ –¥–ª—è —É—Å–ª—É–≥ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ —Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –¢-–±–∞–Ω–∫–∞.

## üéØ –ü—Ä–æ–¥—É–∫—Ç—ã –∏ —É—Å–ª—É–≥–∏

1. **–ì–∞–π–¥ "–£–∑–Ω–∞–π –ø—Ä–∏—á–∏–Ω—É –æ—Ç–∫–∞–∑–æ–≤ –∏ –∏—Å–ø—Ä–∞–≤—å –ö–ò"** - 1399‚ÇΩ
2. **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ –ö–ò** - 5000‚ÇΩ  
3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ö–ò + –≤–µ–¥–µ–Ω–∏–µ –¥–æ –∫—Ä–µ–¥–∏—Ç–∞** - 5000‚ÇΩ

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Frontend Stack
- **HTML5** - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **CSS3** - —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å Tailwind CSS
- **JavaScript ES6+** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** - –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### Backend Architecture  
- **Netlify Functions** - serverless backend
- **Node.js** - runtime —Å—Ä–µ–¥–∞
- **Crypto API** - SHA-256 –ø–æ–¥–ø–∏—Å—å –¥–ª—è Token

### –ü–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **–¢-–±–∞–Ω–∫ –≠–∫–≤–∞–π—Ä–∏–Ω–≥** - –ø—Ä–∏–µ–º –ø–ª–∞—Ç–µ–∂–µ–π
- **PaymentIntegration.js** - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è JS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** - –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å + fallback

## üöÄ –î–µ–ø–ª–æ–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### Netlify Deploy Settings
```
Base directory: [–ø—É—Å—Ç–æ–µ –ø–æ–ª–µ]
Build command: [–ø—É—Å—Ç–æ–µ –ø–æ–ª–µ]  
Publish directory: .
Functions directory: netlify/functions
```

### Environment Variables (Production)
```
TBANK_TERMINAL_KEY=your_real_terminal_key
TBANK_PASSWORD=your_real_password
```

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (DEMO)
```
Terminal Key: TinkoffBankTest (DEMO)
Password: TinkoffBankTest (DEMO)
API URL: https://securepay.tinkoff.ru/v2/
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

#### –£—Ä–æ–≤–µ–Ω—å 1: PaymentIntegration + Backend
```javascript
PaymentIntegration.init() ‚Üí setPaymentStartCallback() ‚Üí Backend Function ‚Üí T-Bank API
```

#### –£—Ä–æ–≤–µ–Ω—å 2: Direct Backend (Fallback)
```javascript
createPaymentWithBackend() ‚Üí Netlify Function ‚Üí T-Bank API ‚Üí Payment URL
```

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
siteki/
‚îú‚îÄ‚îÄ index.html              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ styles.css              # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ adaptive.css            # –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ tbank-payment.js        # –ü–ª–∞—Ç–µ–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è v2.3.0
‚îú‚îÄ‚îÄ faq.js                  # FAQ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
‚îú‚îÄ‚îÄ test-payment.html       # –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ thankyou.html          # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
‚îú‚îÄ‚îÄ fail.html              # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ –æ–ø–ª–∞—Ç—ã
‚îú‚îÄ‚îÄ netlify/functions/
‚îÇ   ‚îî‚îÄ‚îÄ create-payment.js  # Backend —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
‚îú‚îÄ‚îÄ netlify.toml           # Netlify –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ changelog.md           # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Server-side Token**: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è SHA-256 –ø–æ–¥–ø–∏—Å–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- **HTTPS Required**: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢-–±–∞–Ω–∫–∞
- **CORS Policy**: –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –∫—Ä–æ—Å—Å–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **CSP Headers**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Content Security Policy

### API Endpoints

#### Netlify Function
```
POST /.netlify/functions/create-payment
Content-Type: application/json

{
  "Amount": 139900,
  "OrderId": "order-123",
  "Description": "Product Name",
  "Email": "user@example.com",
  "Phone": "+79999999999"
}
```

#### T-Bank API Integration
```
POST https://securepay.tinkoff.ru/v2/Init
- Automatic Token generation
- Receipt data inclusion  
- DATA.connection_type: 'Widget'
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Test Page
- URL: `/test-payment.html`
- –§—É–Ω–∫—Ü–∏–∏: –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, API —Ç–µ—Å—Ç—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∏: –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Token, —Å—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### DEMO —Ä–µ–∂–∏–º
- –¢–µ—Ä–º–∏–Ω–∞–ª: `TinkoffBankTest`
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Ñ–æ—Ä–º—ã

## üì± –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (v3.0.0)
- **Touch-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –∫–∞—Å–∞–Ω–∏–π (44x44px –º–∏–Ω–∏–º—É–º)
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**: 8 breakpoints –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (320px-1920px+)
- **–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **PWA –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: Meta-—Ç–µ–≥–∏ –¥–ª—è Progressive Web App —Ñ—É–Ω–∫—Ü–∏–π
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Preconnect —Å—Å—ã–ª–∫–∏ –∏ –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –ü–ª–∞—Ç–µ–∂–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–ö–Ω–æ–ø–∫–∏ –æ–ø–ª–∞—Ç—ã**: –¢-Pay, –ú–ò–† Pay, SberPay, –°–ë–ü
- **–ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞**: –∫—Ä–∞—Å–∏–≤—ã–π UI –¥–ª—è –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Ñ–æ—Ä–º—ã  
- **–°—Ç–∞—Ç—É—Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ**: real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ä—Ç (v2.9.0)
- **Smart detection**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã (Visa, MasterCard, –ú–ò–†, AMEX)
- **–ê–ª–≥–æ—Ä–∏—Ç–º –õ—É–Ω–∞**: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã
- **Visual feedback**: –¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- **Real-time —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ —Ç–∏–ø –∫–∞—Ä—Ç—ã
- **Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ —É—Å–ø–µ—Ö–µ

### UX Features
- **–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**: async —Å–∫—Ä–∏–ø—Ç—ã
- **Graceful degradation**: fallback —Å–∏—Å—Ç–µ–º—ã
- **Error handling**: –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- **Accessibility**: —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã

## üîÑ Workflow

### Development
1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ localhost
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å DEMO –∫–ª—é—á–∞–º–∏
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ test-payment.html

### Staging  
1. Deploy –Ω–∞ Netlify
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ production URL
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö payment flows

### Production
1. –ó–∞–º–µ–Ω–∞ DEMO –∫–ª—é—á–µ–π –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ environment variables
3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–ª–∞—Ç–µ–∂–µ–π

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ console.log –≤–æ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ UI
- Error tracking —Å –¥–µ—Ç–∞–ª—è–º–∏

### –ú–µ—Ç—Ä–∏–∫–∏
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ PaymentIntegration
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è fallback —Ä–µ–∂–∏–º–∞
- Performance –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

## üõ†Ô∏è Maintenance

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è integration.js
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ changelog.md
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å fallback

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–±–ª–µ–º
- API availability checks
- Token generation validation  
- Cross-browser compatibility

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Email**: acq_help@tbank.ru (—Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¢-–±–∞–Ω–∫–∞)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://www.tbank.ru/kassa/dev/integrationjs/
- **API Reference**: https://www.tbank.ru/kassa/dev/payments/

---

**–í–µ—Ä—Å–∏—è –ø–ª–∞—Ç–µ–∂–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: v2.9.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 26.12.2024  
**–°—Ç–∞—Ç—É—Å**: Production Ready (DEMO mode)  
**–ù–æ–≤–æ–µ –≤ v2.9**: Smart –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ä—Ç, –∞–ª–≥–æ—Ä–∏—Ç–º –õ—É–Ω–∞, visual feedback
